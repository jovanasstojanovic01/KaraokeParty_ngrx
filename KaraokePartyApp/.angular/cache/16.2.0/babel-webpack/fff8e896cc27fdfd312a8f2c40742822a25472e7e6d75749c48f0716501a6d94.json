{"ast":null,"code":"// video-names.reducer.ts\nimport { createReducer, on } from '@ngrx/store';\nimport { addVideoName, updateVideoNames } from './video-names.actions';\nexport const MAX_VIDEO_NAMES = 10; // Definišemo maksimalan broj imena\nexport const initialState = {\n  videoNames: new Set()\n};\nexport const videoNamesReducer = createReducer(initialState, on(addVideoName, (state, {\n  videoName\n}) => {\n  const updatedSet = new Set(state.videoNames);\n  updatedSet.add(videoName);\n  if (updatedSet.size > MAX_VIDEO_NAMES) {\n    updatedSet.delete([...updatedSet][0]); // Izbriši prvi element ako je premašen maksimalni broj\n  }\n\n  return {\n    ...state,\n    videoNames: updatedSet\n  };\n}), on(updateVideoNames, (state, {\n  videoNames\n}) => ({\n  ...state,\n  videoNames: new Set(videoNames)\n})));","map":{"version":3,"names":["createReducer","on","addVideoName","updateVideoNames","MAX_VIDEO_NAMES","initialState","videoNames","Set","videoNamesReducer","state","videoName","updatedSet","add","size","delete"],"sources":["C:\\Windows\\System32\\myApp\\src\\app\\components\\karaoke-room\\video-names-store\\video-name.reducer.ts"],"sourcesContent":["// video-names.reducer.ts\r\nimport { createReducer, on } from '@ngrx/store';\r\nimport { addVideoName, updateVideoNames } from './video-names.actions';\r\n\r\nexport const MAX_VIDEO_NAMES = 10; // Definišemo maksimalan broj imena\r\n\r\nexport interface VideoNamesState {\r\n  videoNames: Set<string>;\r\n}\r\n\r\n\r\nexport const initialState: VideoNamesState = {\r\n  videoNames: new Set()\r\n};\r\n\r\nexport const videoNamesReducer = createReducer(\r\n  initialState,\r\n  on(addVideoName, (state, { videoName }) => {\r\n    const updatedSet = new Set(state.videoNames);\r\n    updatedSet.add(videoName);\r\n    if (updatedSet.size > MAX_VIDEO_NAMES) {\r\n      updatedSet.delete([...updatedSet][0]); // Izbriši prvi element ako je premašen maksimalni broj\r\n    }\r\n    return { ...state, videoNames: updatedSet };\r\n  }),\r\n  on(updateVideoNames, (state, { videoNames }) => ({\r\n    ...state,\r\n    videoNames: new Set(videoNames),\r\n  }))\r\n);"],"mappings":"AAAA;AACA,SAASA,aAAa,EAAEC,EAAE,QAAQ,aAAa;AAC/C,SAASC,YAAY,EAAEC,gBAAgB,QAAQ,uBAAuB;AAEtE,OAAO,MAAMC,eAAe,GAAG,EAAE,CAAC,CAAC;AAOnC,OAAO,MAAMC,YAAY,GAAoB;EAC3CC,UAAU,EAAE,IAAIC,GAAG;CACpB;AAED,OAAO,MAAMC,iBAAiB,GAAGR,aAAa,CAC5CK,YAAY,EACZJ,EAAE,CAACC,YAAY,EAAE,CAACO,KAAK,EAAE;EAAEC;AAAS,CAAE,KAAI;EACxC,MAAMC,UAAU,GAAG,IAAIJ,GAAG,CAACE,KAAK,CAACH,UAAU,CAAC;EAC5CK,UAAU,CAACC,GAAG,CAACF,SAAS,CAAC;EACzB,IAAIC,UAAU,CAACE,IAAI,GAAGT,eAAe,EAAE;IACrCO,UAAU,CAACG,MAAM,CAAC,CAAC,GAAGH,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;;;EAEzC,OAAO;IAAE,GAAGF,KAAK;IAAEH,UAAU,EAAEK;EAAU,CAAE;AAC7C,CAAC,CAAC,EACFV,EAAE,CAACE,gBAAgB,EAAE,CAACM,KAAK,EAAE;EAAEH;AAAU,CAAE,MAAM;EAC/C,GAAGG,KAAK;EACRH,UAAU,EAAE,IAAIC,GAAG,CAACD,UAAU;CAC/B,CAAC,CAAC,CACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}